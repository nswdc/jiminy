<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Block &mdash; jiminy 1.7.16 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Pipeline" href="pipeline_bases.html" />
    <link rel="prev" title="Generic" href="generic_bases.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            jiminy
              <img src="../../../../_static/jiminy_logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.7.16
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">README</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../README.html">Key features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../README.html#gym-jiminy">Gym Jiminy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../README.html#demo">Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../README.html#getting-started">Getting started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">INSTALLATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../INSTALL.html">Easy-install on Ubuntu 18+</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../INSTALL.html#building-from-source">Building from source</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">TUTORIALS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorial.html">An introduction to Jiminy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API DOC</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../jiminy/index.html">Jiminy C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../jiminy_py/index.html">Jiminy Python API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Gym Jiminy API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Bases</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="generic_bases.html">Generic</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Block</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gym_jiminy.common.bases.block_bases.BlockInterface"><code class="docutils literal notranslate"><span class="pre">BlockInterface</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock"><code class="docutils literal notranslate"><span class="pre">BaseObserverBlock</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock"><code class="docutils literal notranslate"><span class="pre">BaseControllerBlock</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pipeline_bases.html">Pipeline</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../envs/index.html">Envs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pipeline.html">Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers/index.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wrappers/index.html">Wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/index.html">Utils</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Specifications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../spec/src/tlmc_format_specification.html">HDF5 telemetry log format (TLMC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../spec/pdf/index.html">Downloadable PDF</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">jiminy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Gym Jiminy API</a></li>
          <li class="breadcrumb-item"><a href="index.html">Bases</a></li>
      <li class="breadcrumb-item active">Block</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/api/gym_jiminy/common/bases/block_bases.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-gym_jiminy.common.bases.block_bases">
<span id="block"></span><h1>Block<a class="headerlink" href="#module-gym_jiminy.common.bases.block_bases" title="Permalink to this heading">¶</a></h1>
<p>This method gathers base implementations for blocks to be used in pipeline
control design.</p>
<p>It implements:</p>
<blockquote>
<div><ul class="simple">
<li><p>the concept of blocks that can be connected to a gym environment</p></li>
<li><p>the base controller block</p></li>
<li><p>the base observer block</p></li>
</ul>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gym_jiminy.common.bases.block_bases.</span></span><span class="sig-name descname"><span class="pre">BlockInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gym_jiminy/common/bases/block_bases.html#BlockInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generic" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">BlockStateT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseObsT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseActT</span></code>]</p>
<p>Base class for blocks used for pipeline control design. Blocks can be
either observers and controllers.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>A block may be stateful. In such a case, <cite>_initialize_state_space</cite>
and <cite>get_state</cite> must be overloaded accordingly. The internal state will
be added automatically to the observation space of the environment.</p>
</div>
<p>Initialize the block interface.</p>
<p>It defines some proxies for fast access, then it initializes the
internal state space of the block and allocates memory for it.</p>
<dl class="simple">
<dt>..warning::</dt><dd><p>All blocks (observers and controllers) must be an unique name
within a given pipeline. In practice, it will be impossible to plug
a given block to an existing pipeline if the later already has one
block of the same type and name. The user is responsible to take
care it never happens.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the block.</p></li>
<li><p><strong>env</strong> – Environment to connect with.</p></li>
<li><p><strong>update_ratio</strong> – Ratio between the update period of the high-level
controller and the one of the subsequent
lower-level controller.</p></li>
<li><p><strong>kwargs</strong> – Extra keyword arguments that may be useful for mixing
multiple inheritance through multiple inheritance.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface.state_space">
<span class="sig-name descname"><span class="pre">state_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Space</span><span class="p"><span class="pre">[</span></span><span class="pre">BlockStateT</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface.state_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface.type">
<span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface.env">
<span class="sig-name descname"><span class="pre">env</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="generic_bases.html#gym_jiminy.common.bases.generic_bases.JiminyEnvInterface" title="gym_jiminy.common.bases.generic_bases.JiminyEnvInterface"><span class="pre">JiminyEnvInterface</span></a><span class="p"><span class="pre">[</span></span><span class="pre">BaseObsT</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">BaseActT</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface.env" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface.update_ratio">
<span class="sig-name descname"><span class="pre">update_ratio</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface.update_ratio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface._setup">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gym_jiminy/common/bases/block_bases.html#BlockInterface._setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface._setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the internal state of the block.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The environment itself is not necessarily directly connected to
this block since it may actually be connected through another block
instead.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The environment to ultimately control is already fully initialized
at this point, so that all its internal buffers is up-to-date, but
no simulation is running yet. As a result, it is still possible to
update the configuration of the simulator, and for example, to
register some extra variables to monitor the internal state of the
block.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface._initialize_state_space">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_initialize_state_space</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gym_jiminy/common/bases/block_bases.html#BlockInterface._initialize_state_space"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface._initialize_state_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the internal state space of the controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface.get_state">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gym_jiminy/common/bases/block_bases.html#BlockInterface.get_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the internal state space of the controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>BlockStateT</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface.fieldnames">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fieldnames</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.11)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">StructNested</span><span class="p"><span class="pre">[</span></span><span class="pre">ValueT</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.11)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><span class="pre">StructNested</span><span class="p"><span class="pre">[</span></span><span class="pre">ValueT</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface.fieldnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Blocks fieldnames for logging.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface._abc_impl">
<span class="sig-name descname"><span class="pre">_abc_impl</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BlockInterface._is_protocol">
<span class="sig-name descname"><span class="pre">_is_protocol</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BlockInterface._is_protocol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gym_jiminy.common.bases.block_bases.</span></span><span class="sig-name descname"><span class="pre">BaseObserverBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gym_jiminy/common/bases/block_bases.html#BaseObserverBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="generic_bases.html#gym_jiminy.common.bases.generic_bases.ObserverInterface" title="gym_jiminy.common.bases.generic_bases.ObserverInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObserverInterface</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">ObsT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseObsT</span></code>], <a class="reference internal" href="#gym_jiminy.common.bases.block_bases.BlockInterface" title="gym_jiminy.common.bases.block_bases.BlockInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlockInterface</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">BlockStateT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseObsT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseActT</span></code>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generic" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">ObsT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BlockStateT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseObsT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseActT</span></code>]</p>
<p>Base class to implement observe that can be used compute observation
features of a <cite>BaseJiminyEnv</cite> environment, through any number of
lower-level observer.</p>
<a class="reference internal image-reference" href="../../../../_images/aafig-ae381d46b67db0cd87084c43666b3f08cf0ca8f8.svg"><img alt="../../../../_images/aafig-ae381d46b67db0cd87084c43666b3f08cf0ca8f8.svg" height="76.0" src="../../../../_images/aafig-ae381d46b67db0cd87084c43666b3f08cf0ca8f8.svg" width="496.0" /></a>
<p>Formally, an observer is a defined as a block mapping the observation space
of the preceding observer, if any, and directly the one of the environment
‘obs_env’, to any observation space ‘features’. It is more generic than
estimating the state of the robot.</p>
<p>The update period of the observer is the same than the simulation timestep
of the environment for now.</p>
<p>Initialize the observer interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Extra arguments that may be useful for mixing
multiple inheritance through multiple inheritance.</p></li>
<li><p><strong>kwargs</strong> – Extra keyword arguments. See ‘args’.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.type">
<span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'observer'</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.observation">
<span class="sig-name descname"><span class="pre">observation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ObsT</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.observation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock._setup">
<span class="sig-name descname"><span class="pre">_setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gym_jiminy/common/bases/block_bases.html#BaseObserverBlock._setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock._setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the internal state of the block.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The environment itself is not necessarily directly connected to
this block since it may actually be connected through another block
instead.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The environment to ultimately control is already fully initialized
at this point, so that all its internal buffers is up-to-date, but
no simulation is running yet. As a result, it is still possible to
update the configuration of the simulator, and for example, to
register some extra variables to monitor the internal state of the
block.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.get_fieldnames">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_fieldnames</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.11)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">StructNested</span><span class="p"><span class="pre">[</span></span><span class="pre">ValueT</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.11)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><span class="pre">StructNested</span><span class="p"><span class="pre">[</span></span><span class="pre">ValueT</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.get_fieldnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Get mapping between each scalar element of the observation space of
the observer block and the associated fieldname for logging.</p>
<p>It is expected to return an object with the same structure than the
observation space, but having lists of string as leaves. Generic
fieldnames are used by default.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock._abc_impl">
<span class="sig-name descname"><span class="pre">_abc_impl</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock._initialize_observation_space">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_initialize_observation_space</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock._initialize_observation_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the observation space.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock._initialize_state_space">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_initialize_state_space</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock._initialize_state_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the internal state space of the controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock._is_protocol">
<span class="sig-name descname"><span class="pre">_is_protocol</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock._is_protocol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.fieldnames">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fieldnames</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.11)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">StructNested</span><span class="p"><span class="pre">[</span></span><span class="pre">ValueT</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.11)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><span class="pre">StructNested</span><span class="p"><span class="pre">[</span></span><span class="pre">ValueT</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.fieldnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Blocks fieldnames for logging.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.get_state">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the internal state space of the controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>BlockStateT</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.observe_dt">
<span class="sig-name descname"><span class="pre">observe_dt</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.observe_dt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.refresh_observation">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">refresh_observation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measurement</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.refresh_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute observed features based on the current simulation state and
lower-level measure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>measurement</strong> (<em>BaseObsT</em>) – Low-level measure from the environment to process
to get higher-level observation.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.observation_space">
<span class="sig-name descname"><span class="pre">observation_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Space</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.observation_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.env">
<span class="sig-name descname"><span class="pre">env</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="generic_bases.html#gym_jiminy.common.bases.generic_bases.JiminyEnvInterface" title="gym_jiminy.common.bases.generic_bases.JiminyEnvInterface"><span class="pre">JiminyEnvInterface</span></a><span class="p"><span class="pre">[</span></span><span class="pre">BaseObsT</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">BaseActT</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.env" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.update_ratio">
<span class="sig-name descname"><span class="pre">update_ratio</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.update_ratio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseObserverBlock.state_space">
<span class="sig-name descname"><span class="pre">state_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Space</span><span class="p"><span class="pre">[</span></span><span class="pre">BlockStateT</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseObserverBlock.state_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gym_jiminy.common.bases.block_bases.</span></span><span class="sig-name descname"><span class="pre">BaseControllerBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gym_jiminy/common/bases/block_bases.html#BaseControllerBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="generic_bases.html#gym_jiminy.common.bases.generic_bases.ControllerInterface" title="gym_jiminy.common.bases.generic_bases.ControllerInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">ControllerInterface</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">ActT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseActT</span></code>], <a class="reference internal" href="#gym_jiminy.common.bases.block_bases.BlockInterface" title="gym_jiminy.common.bases.block_bases.BlockInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlockInterface</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">BlockStateT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseObsT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseActT</span></code>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generic" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">ActT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BlockStateT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseObsT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseActT</span></code>]</p>
<p>Base class to implement controller that can be used compute targets to
apply to the robot of a <cite>BaseJiminyEnv</cite> environment, through any number of
lower-level controllers.</p>
<a class="reference internal image-reference" href="../../../../_images/aafig-506950d67946aa370f719ef7a824bb8f823f16ab.svg"><img alt="../../../../_images/aafig-506950d67946aa370f719ef7a824bb8f823f16ab.svg" height="76.0" src="../../../../_images/aafig-506950d67946aa370f719ef7a824bb8f823f16ab.svg" width="622.0" /></a>
<p>Formally, a controller is defined as a block mapping any action space
‘act_ctrl’ to the action space of the subsequent controller ‘cmd_ctrl’, if
any, and ultimately to the one of the associated environment ‘act_env’, ie
the motors efforts to apply on the robot.</p>
<p>The update period of the controller must be higher than the control update
period of the environment, but both can be infinite, ie time-continuous.</p>
<p>Initialize the controller interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Extra arguments that may be useful for mixing
multiple inheritance through multiple inheritance.</p></li>
<li><p><strong>kwargs</strong> – Extra keyword arguments. See ‘args’.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.type">
<span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'controller'</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock._abc_impl">
<span class="sig-name descname"><span class="pre">_abc_impl</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;_abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock._initialize_action_space">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_initialize_action_space</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock._initialize_action_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the action space.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock._initialize_state_space">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_initialize_state_space</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock._initialize_state_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the internal state space of the controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock._is_protocol">
<span class="sig-name descname"><span class="pre">_is_protocol</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock._is_protocol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.compute_command">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">compute_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.compute_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the action to perform by the subsequent block, namely a
lower-level controller, if any, or the environment to ultimately
control, based on a given high-level action.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The controller is supposed to be already fully configured whenever
this method might be called. Thus it can only be called manually
after <cite>reset</cite>. This method has to deal with the initialization of
the internal state, but <cite>_setup</cite> method does so.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The user is expected to fetch by itself the observation of the
environment if necessary to carry out its computations by calling
<cite>self.env.observation</cite>. Beware it will NOT contain any information
provided by higher-level blocks in the pipeline.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – Target to achieve by means of the output action.</p></li>
<li><p><strong>action</strong> (<em>ActT</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Action to perform.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>BaseActT</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.compute_reward">
<span class="sig-name descname"><span class="pre">compute_reward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">done</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncated</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.compute_reward" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the reward related to a specific control block.</p>
<p>For the corresponding MDP to be stationary, the computation of the
reward is supposed to involve only the transition from previous to
current state of the simulation (possibly comprising multiple agents)
under the ongoing action.</p>
<p>By default, it returns 0.0 no matter what. It is up to the user to
provide a dedicated reward function whenever appropriate.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Only returning an aggregated scalar reward is supported. Yet, it is
possible to update ‘info’ by reference if one wants for keeping
track of individual reward components or any kind of extra info
that may be helpful for monitoring or debugging purposes.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>done</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – Whether the episode has reached one of terminal states of
the MDP at the current step. This flag can be used to
compute a specific terminal reward.</p></li>
<li><p><strong>truncated</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – Whether a truncation condition outside the scope of
the MDP has been satisfied at the current step. This
flag can be used to adapt the reward.</p></li>
<li><p><strong>info</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><em>Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)"><em>Any</em></a><em>]</em>) – Dictionary of extra information for monitoring.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Aggregated reward for the current step.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.control_dt">
<span class="sig-name descname"><span class="pre">control_dt</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.control_dt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.fieldnames">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fieldnames</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.11)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">StructNested</span><span class="p"><span class="pre">[</span></span><span class="pre">ValueT</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.11)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><span class="pre">StructNested</span><span class="p"><span class="pre">[</span></span><span class="pre">ValueT</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.fieldnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Blocks fieldnames for logging.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.get_state">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the internal state space of the controller.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>BlockStateT</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.action_space">
<span class="sig-name descname"><span class="pre">action_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Space</span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.action_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.env">
<span class="sig-name descname"><span class="pre">env</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="generic_bases.html#gym_jiminy.common.bases.generic_bases.JiminyEnvInterface" title="gym_jiminy.common.bases.generic_bases.JiminyEnvInterface"><span class="pre">JiminyEnvInterface</span></a><span class="p"><span class="pre">[</span></span><span class="pre">BaseObsT</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">BaseActT</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.env" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.update_ratio">
<span class="sig-name descname"><span class="pre">update_ratio</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.update_ratio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.state_space">
<span class="sig-name descname"><span class="pre">state_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Space</span><span class="p"><span class="pre">[</span></span><span class="pre">BlockStateT</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.state_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock._setup">
<span class="sig-name descname"><span class="pre">_setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gym_jiminy/common/bases/block_bases.html#BaseControllerBlock._setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock._setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the internal state of the block.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The environment itself is not necessarily directly connected to
this block since it may actually be connected through another block
instead.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The environment to ultimately control is already fully initialized
at this point, so that all its internal buffers is up-to-date, but
no simulation is running yet. As a result, it is still possible to
update the configuration of the simulator, and for example, to
register some extra variables to monitor the internal state of the
block.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gym_jiminy.common.bases.block_bases.BaseControllerBlock.get_fieldnames">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_fieldnames</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.11)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">StructNested</span><span class="p"><span class="pre">[</span></span><span class="pre">ValueT</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.11)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><span class="pre">StructNested</span><span class="p"><span class="pre">[</span></span><span class="pre">ValueT</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></em><a class="headerlink" href="#gym_jiminy.common.bases.block_bases.BaseControllerBlock.get_fieldnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Get mapping between each scalar element of the action space of
the controller block and the associated fieldname for logging.</p>
<p>It is expected to return an object with the same structure than the
action space, but having lists of string as leaves. Generic fieldnames
are used by default.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="generic_bases.html" class="btn btn-neutral float-left" title="Generic" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pipeline_bases.html" class="btn btn-neutral float-right" title="Pipeline" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Alexis Duburcq - MIT licence.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>